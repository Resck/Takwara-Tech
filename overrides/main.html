{#- Arquivo: overrides/main.html (Com Modal Dialog) -#}
{% extends "base.html" %}

{% block header %}
  {{ super() }}
  
  <button id="open-grafo-btn">
    <span title="Abrir Grafo">üó∫Ô∏è</span>
  </button>

  <dialog id="grafo-dialog">
    <div class="grafo-dialog-header">
      <strong>Grafo da Bioeconomia</strong>
      <button id="close-grafo-btn" title="Fechar">&times;</button>
    </div>
    <div class="grafo-dialog-content">
      
      <iframe src="/grafo-bioeconomia/" style="width: 100%; height: 100%; border: none;"></iframe>

    </div>
  </dialog>

  <script>
    const openBtn = document.getElementById('open-grafo-btn');
    const closeBtn = document.getElementById('close-grafo-btn');
    const dialog = document.getElementById('grafo-dialog');

    // Abre o modal
    openBtn.onclick = function() {
      dialog.showModal();
    };

    // Fecha o modal
    closeBtn.onclick = function() {
      dialog.close();
    };

    // (Opcional) Fecha o modal se o usu√°rio clicar fora dele
    dialog.addEventListener('click', function(event) {
      if (event.target === dialog) {
        dialog.close();
      }
    });
  </script>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <template id="takwara-chatbot-template">
      {% include "partials/widget-chatbot.html" %}
  </template>
{% endblock %}